<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pizza Factory Slise Menu</title>
  <link rel="stylesheet" href="../assets/css/styles.css">

  <!--=============== FAVICON ===============-->
  <link rel="shortcut icon" href="../assets/img/favicon.png" type="image/x-icon">
<!-- JS Variable Declaration -->
  <script>
      const NavUrl = 'navbar.html'; // Replace with your actual navbar URL
      const FooterUrl = 'footer.html'; // Replace with your actual footer URL
  </script>
  <style>
    :root {
      --primary-color: #ce221f;
      --secondary-color: #fbc02d;
      --bg-color: #fff3e0;
      --card-bg: #ffffff;
      --text-dark: #3e2723;
      --text-light: #6d4c41;
    }

    body {
     background-color: var(--bg-color);
     color: var(--text-dark);
     margin: 0;
    }

    .menu-page-content {
      font-family: 'Segoe UI', sans-serif;
    }

    /* === Filter Section === */
    .filters-wrapper {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 15px;
      background-color: var(--secondary-color);
      padding: 15px;
      padding-top: 90px;
    }

    .filters-wrapper input[type="text"] {
      padding: 8px 15px;
      border-radius: 25px;
      border: none;
      font-size: 16px;
      width: 250px;
    }

    .filters-wrapper .filters {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
    }

    .filters button {
      background-color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 25px !important;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s;
    }

    .filters button.active {
      background-color: var(--primary-color);
      color: white;
    }

    /* === Floating Menu Button === */
    .menu-toggle {
      position: fixed;
      bottom: 25px;
      right: 25px;
      background-color: #000;
      color: white;
      border: none;
      border-radius: 50%;
      width: 65px;
      height: 65px;
      font-weight: bold;
      font-size: 14px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      z-index: 1000;
      cursor: pointer;
    }

    .menu-popup {
      position: fixed;
      bottom: 100px;
      right: 20px;
      background-color: #0f1113;
      color: white;
      padding: 20px 30px;
      border-radius: 20px;
      box-shadow: 0 4px 30px rgba(0,0,0,0.4);
      z-index: 999;
      font-family: 'Arial', sans-serif;
      max-width: 300px;
      width: 90%;
    }

    .menu-popup h3 {
      font-size: 18px;
      margin-bottom: 15px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .menu-popup button {
      display: block;
      width: 100%;
      text-align: left;
      background: none;
      border: none;
      color: white;
      font-size: 15px;
      font-weight: 500;
      margin: 8px 0;
      padding: 6px 0;
      cursor: pointer;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .menu-popup.hidden {
      display: none;
    }

    /* === Menu Cards Layout === */
    .menu-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      padding: 20px;
      justify-items: center;
    }

    @media (min-width: 992px) {
      .menu-container {
        grid-template-columns: repeat(3, 1fr);
      }
    }

    .menu-card {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      background: #fff;
      border-bottom: 1px solid #eee;
      padding: 15px;
      border-radius: 8px;
      gap: 10px;
      width: 100%;
      max-width: 720px;
      animation: fadeInUp 0.6s ease forwards;
      opacity: 0;
    }

    .menu-info { flex: 1; }

    .menu-info h4 {
      margin: 0 0 5px;
      font-size: 18px;
      font-weight: 600;
    }

    .menu-info p {
      margin: 6px 0;
      font-size: 14px;
      color: #666;
    }

    .price-line {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .original-price {
      text-decoration: line-through;
      color: #888;
      font-size: 14px;
    }

    .discounted-price {
      color: #0f8f04;
      font-weight: bold;
      font-size: 16px;
    }

    .rating {
      font-size: 14px;
      color: #333;
      margin-top: 5px;
    }

    .menu-img-block {
      width: 130px;
      position: relative;
      text-align: center;
    }

    .menu-img-block img {
      width: 100%;
      height: 110px;
      object-fit: cover;
      border-radius: 10px;
    }

    .order-button {
      margin-top: 8px;
      background-color: #0f8f04;
      color: white;
      padding: 6px 12px;
      border: none;
      border-radius: 6px;
      font-weight: 600;
      font-size: 14px;
      cursor: pointer;
    }

    .order-button:hover {
      background-color: #087b01;
    }

    .veg-icon, .nonveg-icon {
      width: 14px;
      height: 14px;
      border-radius: 50%;
      display: inline-block;
      margin-right: 5px;
    }

    .veg-icon {
      border: 1px solid green;
      background: green;
    }

    .nonveg-icon {
      border: 1px solid red;
      background: red;
    }

    /* === Generic Modal === */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.7);
      justify-content: center;
      align-items: center;
      z-index: 999;
    }

    .modal-content {
      background: white;
      padding: 20px;
      border-radius: 10px;
      width: 90%;
      max-width: 400px;
      position: relative;
      text-align: center;
    }

    .modal-close {
      position: absolute;
      right: 15px;
      top: 10px;
      cursor: pointer;
      font-weight: bold;
    }

    input {
      padding: 10px;
      margin: 5px 0;
      width: 90%;
    }

    ul {
      padding-left: 0;
      list-style: none;
      text-align: left;
    }

    ul li {
      margin-bottom: 6px;
    }

    /* === Cart Modal Styling === */
   .cart-sidebar {
            position: fixed;
            top: 0;
            right: 0;
            width: 380px;
            height: 100%;
            background-color: #fff;
            box-shadow: -4px 0 10px rgba(0, 0, 0, 0.1);
            transform: translateX(100%);
            transition: transform 0.3s ease-in-out;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            padding: 20px;
            box-sizing: border-box;
        }

        .cart-sidebar.open {
            transform: translateX(0);
        }

        .cart-sidebar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
            margin-bottom: 20px;
        }

        .cart-sidebar-header h2 {
            margin: 0;
            color: #e44d26;
        }

        .cart-close-btn {
            background: none;
            border: none;
            font-size: 1.8em;
            cursor: pointer;
            color: #888;
            transition: color 0.2s;
        }

        .cart-close-btn:hover {
            color: #333;
        }

        #cart-items {
            list-style: none;
            padding: 0;
            margin-bottom: 20px;
            flex-grow: 1;
            overflow-y: auto;
        }

        #cart-items li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px dotted #eee;
            gap: 10px;
        }

        #cart-items li:last-child {
            border-bottom: none;
        }

        #cart-items .cart-item-name {
            flex: 1;
            text-align: left;
            flex-shrink: 0;
            min-width: 80px;
        }

        #cart-items .cart-item-amount {
            font-weight: bold;
            color: #333;
            min-width: 80px;
            text-align: center;
            flex-shrink: 0;
        }

        #cart-items .cart-quantity-controls {
            display: flex;
            align-items: center;
            gap: 5px;
            min-width: 90px;
            justify-content: flex-end;
            flex-shrink: 0;
        }

        #cart-items .cart-quantity-controls button {
            background-color: #e0e0e0;
            border: 1px solid #ccc;
            border-radius: 4px;
            width: 25px;
            height: 25px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            font-weight: bold;
            font-size: 0.9em;
            transition: background-color 0.2s;
        }

        #cart-items .cart-quantity-controls button:hover {
            background-color: #d0d0d0;
        }

        #cart-items .cart-quantity-controls span {
            font-size: 1em;
            font-weight: bold;
            min-width: 20px;
            text-align: center;
        }
        
        #cart-items .cart-quantity-controls .decrease-qty-btn.delete-action {
            background-color: #dc3545;
            color: white;
        }
        #cart-items .cart-quantity-controls .decrease-qty-btn.delete-action:hover {
            background-color: #c82333;
        }

        .cart-summary-footer {
            border-top: 1px solid #eee;
            padding-top: 20px;
            margin-top: 20px;
            text-align: right;
        }

        #cart-total {
            font-size: 1.5em;
            font-weight: bold;
            color: #e44d26;
            margin-bottom: 15px;
            display: block;
        }

        #checkout-btn {
            width: 100%;
        }

        #cart-toggle-btn {
            position: fixed;
            bottom: 25px;
            right: 25px;
            background-color: #007bff;
            color: white;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.8em;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            z-index: 1100;
            transition: background-color 0.3s, transform 0.2s, opacity 0.3s, visibility 0.3s;
        }

        #cart-toggle-btn.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }


        #cart-toggle-btn:hover {
            background-color: #0056b3;
            transform: translateY(-3px);
        }

        #cart-item-count {
            position: absolute;
            top: 5px;
            right: 5px;
            background-color: #e44d26;
            color: white;
            font-size: 0.7em;
            font-weight: bold;
            padding: 3px 7px;
            border-radius: 50%;
            line-height: 1;
        }
        #cart-item-count:empty {
            display: none;
        }


        .quantity-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
        }

        .quantity-controls button {
            background-color: #ddd;
            border: 1px solid #ccc;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.2em;
            transition: background-color 0.2s;
        }

        .quantity-controls button:hover {
            background-color: #ccc;
        }
        
        .quantity-btn.decrease-quantity.delete-action {
            background-color: #dc3545;
            color: white;
        }
        .quantity-btn.decrease-quantity.delete-action:hover {
            background-color: #c82333;
        }

        .quantity-controls span {
            font-size: 1.1em;
            font-weight: bold;
            min-width: 25px;
            text-align: center;
        }


    /* === Order Form Modal Styling === */
    #orderFormModal .modal-content {
      max-width: 420px;
      background: #fff;
      border-radius: 20px;
      padding: 25px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.2);
      text-align: center;
    }

    #orderFormModal h3 {
      color: #b71c1c;
      font-size: 22px;
      margin-bottom: 15px;
    }

    #orderForm input {
      padding: 12px;
      width: 90%;
      margin-bottom: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 16px;
    }

    #orderForm .order-button {
      width: 100%;
      background-color: #b71c1c;
      font-size: 16px;
      border-radius: 12px;
      margin-top: 10px;
    }

    /* === Animation Styles === */
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .filters .tablink::before {
      content: attr(data-icon);
      margin-right: 8px;
    }

    /* .cart-popup {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: #1faa59;
      color: white;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 14px 20px;
      font-weight: bold;
      z-index: 999;
      transition: transform 0.3s ease;
      font-family: 'Arial', sans-serif;
    }

    .cart-popup.hidden {
      transform: translateY(100%);
    }

    .cart-popup button {
      background: none;
      border: none;
      color: white;
      font-weight: bold;
      font-size: 16px;
      cursor: pointer;
    }

    .quantity-control {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-top: 10px;
      justify-content: center;
    }

    .qty-btn {
      background-color: #1faa59;
      color: white;
      border: none;
      padding: 6px 12px;
      border-radius: 6px;
      font-size: 16px;
      cursor: pointer;
    }

    .qty-count {
      font-weight: bold;
      font-size: 16px;
    } */

    
  </style>
</head>
<body>
  <!-- ========== Load Navbar ========== -->
  <div id="navbar-container"></div>

  <div class="menu-page-content">

  <!-- ========== Search and Type Filter Section ========== -->
  <div class="filters-wrapper">
    <input type="text" id="searchBox" placeholder="Search menu..." onkeyup="searchMenu()" />
    <div class="filters">
      <button class="type-filter " onclick="filterByType(event, 'all')">All</button>
      <button class="type-filter" onclick="filterByType(event, 'veg')">Veg</button>
      <button class="type-filter" onclick="filterByType(event, 'nonveg')">Non-Veg</button>
    </div>
  </div>

  <!-- ========== Floating MENU Button ========== -->
  <button id="menuToggleBtn" class="menu-toggle" onclick="toggleMenuPopup()">MENU</button>

  <!-- ========== Popup Menu Overlay ========== -->
  <div id="menuPopup" class="menu-popup hidden">
    <!-- <h3>Recommended <span>20</span></h3> -->
    <button class="tablink" onclick="openTab(event, 'all')">All</button>
    <button class="tablink" onclick="openTab(event, 'pizzas')">Pizzas</button>
    <button class="tablink" onclick="openTab(event, 'burgers')">Burgers</button>
    <button class="tablink" onclick="openTab(event, 'sides')">Sides</button>
    <button class="tablink" onclick="openTab(event, 'beverages')">Beverages</button>
    <button class="tablink" onclick="openTab(event, 'icecreams')">Ice Creams</button>
    <button class="tablink" onclick="openTab(event, 'combos')">Combos</button>
  </div>

  <!-- ========== Dynamic Menu Cards Container ========== -->
  <div id="menu" class="menu-container active"></div>

  <!-- ========== Cart Modal Section ========== -->
   <div id="cart-toggle-btn" class="hidden">
        <i class="fas fa-shopping-cart"></i>
        <span id="cart-item-count">0</span>
    </div>

    <div class="cart-sidebar" id="cart-sidebar">
        <div class="cart-sidebar-header">
            <h2>Your Order</h2>
            <button class="cart-close-btn">&times;</button>
        </div>
        <ul id="cart-items">
        </ul>
        <div class="cart-summary-footer">
            <p>Total: ₹<span id="cart-total">0.00</span></p>
            <button id="checkout-btn" class="button primary">Proceed to Payment</button>
        </div>
    </div>
  <div id="cartModal" class="modal" onclick="handleModalOutsideClick(event, 'cartModal')">
    <div class="modal-content" onclick="event.stopPropagation()">
      <span class="modal-close" onclick="closeCartModal()">×</span>
      <h3>Your Cart</h3>
      <ul id="cartItems"></ul>
      <p style="text-align:right; margin-top: 10px;">
        <strong>Total:</strong> <span id="cartTotal">₹0</span>
      </p>
      <button class="order-button" onclick="openOrderForm()">Order Now</button>
    </div>
  </div>

  <!-- ========== Sticky Cart Button ========== -->
  <button id="stickyCartBtn" onclick="openCartModal()">🛒Cart<span id="cartCountBadge">[0]</span></button>

  <!-- ========== Order Form Modal ========== -->
  <div id="orderFormModal" class="modal">
    <div class="modal-content">
      <span class="modal-close" onclick="closeOrderForm()">×</span>
      <h3>Enter Your Details</h3>
      <form id="orderForm" onsubmit="submitOrder(event)">
        <input type="text" id="custName" placeholder="Your Name" required />
        <input type="text" id="custAddress" placeholder="Your Address" required />
        <input type="tel" id="custPhone" placeholder="Phone Number" required />
        <button type="submit" class="order-button">✅ Send to WhatsApp</button>
      </form>
    </div>
  </div>
    <!-- ========== Main Content Section ========== -->
</main>
</div>
 <!-- ========== Load Footer ========== -->
  <div id="footer-container"></div>

  <!-- ========== External JS Loader ========== -->
  <script src="load.js"></script>

   <!-- ========== Main JavaScript Starts ========== -->
<script>
/* === MENU DATA === */
const menuData = [

  //Pizza Mania
    { category: 'pizzamania', title: 'Onion Pizza', desc: 'Mozerella cheese, onion', price: '₹79', img: 'assets/img/farm-land-slice.jpg', type: 'veg' },
    { category: 'pizzamania', title: 'Capsicum Onion Pizza', desc: 'Mozerella cheese, Capsicum, onion', price: '₹89', img: 'assets/img/farm-land-slice.jpg', type: 'veg' },
    { category: 'pizzamania', title: 'Mushroom Red Paprika Pizza', desc: 'Mozerella cheese, Mushroom, red paprika', price: '₹89', img: 'assets/img/farm-land-slice.jpg', type: 'veg' },
    { category: 'pizzamania', title: 'Corn Pizza Mania Pizza', desc: 'Mozerella cheese, Corn', price: '₹89', img: 'assets/img/farm-land-slice.jpg', type: 'veg' },
    { category: 'pizzamania', title: 'Jalapeno And Corn Mania Pizza', desc: 'Mozerella cheese, Corn, Jalapeno', price: '₹89', img: 'assets/img/farm-land-slice.jpg', type: 'veg' },
    { category: 'pizzamania', title: 'Olive And Onion Mania Pizza', desc: 'Mozerella cheese, Olive, onionn', price: '₹89', img: 'assets/img/farm-land-slice.jpg', type: 'veg' },
    { category: 'pizzamania', title: 'Mushroom Pizza', desc: 'Mozerella cheese, Mushroom', price: '₹79', img: 'assets/img/farm-land-slice.jpg', type: 'veg' },

  
    // Veg Pizzas
    { category: 'pizzas', title: 'Margarita Pizza', desc: 'Mozerella cheese', price: 'S-₹169/ M-₹289/ L-₹449', img: '', type: 'veg' },
    { category: 'pizzas', title: 'Paneer Tikka Delight', desc: 'Mozerella cheese, onion, green capsicum, red paprika, paneer tikka', price: 'S-₹179/ M-₹320/ L-₹529', img: '', type: 'veg' },
    { category: 'pizzas', title: 'Farm Land Pizza', desc: 'Mozerella cheese, onion, tomato, corn, green capsicum', price: 'S-₹179/ M-₹320/ L-₹529', img: '', type: 'veg' },
    { category: 'pizzas', title: 'Tandoori Veggie Feast Pizza', desc: 'Mozerella cheese, onion, tomato, green capsicum, tandoori paneer', price: 'S-₹189/ M-₹339/ L-₹549', img: '', type: 'veg' },
    { category: 'pizzas', title: 'Veggie Supreme Delight Pizza', desc: 'Mozerella cheese, onion, yellow capsicum, green capsicum, red paprika, corn, mushroom', price: 'S-₹189/ M-₹339/ L-₹549', img: '', type: 'veg' },
    { category: 'pizzas', title: 'Paneer Delight Explosion Pizza', desc: 'Mozerella cheese, jalapeno, yellow capsicum, onion, red paprika, masala paneer', price: 'S-₹189/ M-₹339/ L-₹549', img: '', type: 'veg' },
    { category: 'pizzas', title: 'Pineapple Passion Blast Pizza', desc: 'Mozerella cheese, onion, pineapple, corn, red paprika', price: 'S-₹179/ M-₹320/ L-₹529', img: '', type: 'veg' },
    { category: 'pizzas', title: 'Pizza Factory Slise Special Pizza', desc: 'Mozerella cheese, onion, red paprika, green capsicum, olives, special spicy sauce', price: 'S-₹189/ M-₹339/ L-₹549', img: '', type: 'veg' },
    { category: 'pizzas', title: 'BBQ Veggie Bonanza Pizza', desc: 'Mozerella cheese, onion, corn, mushroom, jalapeno, BBQ sauce', price: 'S-₹189/ M-₹329/ L-₹539', img: '', type: 'veg' },
    { category: 'pizzas', title: 'Baby Corn Fiesta Pizza', desc: 'Mozerella cheese, baby corn, tomato, green capsicum, mushroom', price: 'S-₹199/ M-₹349/ L-₹549', img: '', type: 'veg' },
    { category: 'pizzas', title: 'Peri Peri Paneer Paradise Pizza', desc: 'Mozerella cheese, onion, jalapeno, red capsicum, corn, peri peri paneer', price: 'S-₹189/ M-₹329/ L-₹539', img: '', type: 'veg' },
    { category: 'pizzas', title: 'Paneer Perfection Pizza', desc: 'Mozerella cheese, onion, paneer, corn, green capsicum', price: 'S-₹189/ M-₹329/ L-₹539', img: '', type: 'veg' },
    { category: 'pizzas', title: 'Mix Veggie Medley Pizza', desc: 'Mozerella cheese, onion, green capsicum, red capsicum, corn, tomato, jalapeno, olives', price: 'S-₹199/ M-₹349/ L-₹549', img: '', type: 'veg' },
    { category: 'pizzas', title: 'Paneer Makhani Marvel Pizza', desc: 'Mozerella cheese, onion, baby corn, red capsicum, mushroom, makhani paneer', price: 'S-₹189/ M-₹329/ L-₹539', img: '', type: 'veg' },
    { category: 'pizzas', title: 'Tandoori Twist Pizza', desc: 'Mozerella cheese, red capsicum, green capsicum, corn, jalapeno, tandoori sauce', price: 'S-₹199/ M-₹349/ L-₹549', img: '', type: 'veg' },
    { category: 'pizzas', title: 'Fiery Fusion Surprise Pizza', desc: 'Mozerella cheese, onion, red paprika, jalapeno, green chilli, yellow capsicum, toping on jalapeno sause', price: 'S-₹179/ M-₹320/ L-₹539', img: '', type: 'veg' },
    { category: 'pizzas', title: 'Capsicum Corn Sensation Pizza', desc: 'Mozerella cheese, onion, corn, red capsicum, toping on mint sause, golden corn', price: 'S-₹189/ M-₹339/ L-₹549', price: 'S-₹199/ M-₹349/ L-₹549', img: '', type: 'veg' },
    { category: 'pizzas', title: 'Chhese Gold Corn Pizza', desc: 'Mozerella cheese, goldenn corn', price: 'S-₹189/ M-₹339/ L-₹549', img: '', type: 'veg' },
    { category: 'pizzas', title: 'Olive Paradise Pizza', desc: 'Mozerella cheese, olive, green capsicum, corn, red paprika', price: 'S-₹179/ M-₹320/ L-₹539', img: '', type: 'veg' },

    // Non-Veg Pizzas
    { category: 'pizzas', title: 'Chicken Tikka Masala Madness Pizza', desc: 'Mozerella cheese, chicken tikka, onion, capsicum', price: 'S-₹199/ M-₹359/ L-₹559', img: '', type: 'nonveg' },
    { category: 'pizzas', title: 'BBQ Chicken Blast Pizza', desc: 'Mozerella cheese, BBQ chicken, onion, jalapeno', price: 'S-₹209/ M-₹369/ L-₹579', img: '', type: 'nonveg' },
    { category: 'pizzas', title: 'Spicy Chicken Sausage Surprise Pizza', desc: 'Mozerella cheese, chicken sausage, red paprika', price: 'S-₹209/ M-₹369/ L-₹579', img: '', type: 'nonveg' },
    { category: 'pizzas', title: 'Sweet Chilli Chicken Sensation Pizza', desc: 'Mozerella cheese, onion, mushroom, capsicum, sweet chilli chicken', price: 'S-₹249/ M-₹389/ L-₹639', img: '', type: 'nonveg' },
    { category: 'pizzas', title: 'Chicken Salami Sensation Pizza', desc: 'Mozerella cheese, chicken salami, jalapeno', price: 'S-₹199/ M-₹359/ L-₹559', img: '', type: 'nonveg' },
    { category: 'pizzas', title: 'Chicken Pepperoni Perfection Pizza', desc: 'Mozerella cheese, chicken pepperoni', price: 'S-₹209/ M-₹369/ L-₹579', img: '', type: 'nonveg' },
    { category: 'pizzas', title: 'Chicken Tandoori Temptation Pizza', desc: 'Mozerella cheese, onion, capsicum, tomato, tandoori chicken', price: 'S-₹209/ M-₹369/ L-₹579', img: '', type: 'nonveg' },
    { category: 'pizzas', title: 'Peri Peri Chicken Explosion Pizza', desc: 'Mozerella cheese, onion, green capsicum, red paprika, peri peri chicken', price: 'S-₹209/ M-₹369/ L-₹579', img: '', type: 'nonveg' },
    { category: 'pizzas', title: 'Chicken Tikka Paneer Fusion Pizza', desc: 'Mozerella cheese, onion, chicken tikka, paneer', price: 'S-₹249/ M-₹389/ L-₹639', img: '', type: 'nonveg' },
    { category: 'pizzas', title: 'Non-Veg Loaded Pizza', desc: 'Mozerella cheese, red paprika, BBQ chicken, chicken tikka, chicken pepperoni', price: 'S-₹219/ M-₹379/ L-₹589', img: '', type: 'nonveg' },
    { category: 'pizzas', title: 'Golden Chicken Crunch Pizza', desc: 'Mozerella cheese, corn, onion, chicken', price: 'S-₹209/ M-₹369/ L-₹579', img: '', type: 'nonveg' },
    { category: 'pizzas', title: 'Pizza Factory Slise Special Pizza', desc: 'Mozerella cheese, onion, chicken, jalapeno, corn, special spicy sauce', price: 'S-₹209/ M-₹369/ L-₹579', img: '', type: 'nonveg' },
,

  // Veg Burgers
    { category: 'burgers', title: 'Veggie Victory Burger', desc: 'Delicious veg patty with lettuce and creamy mayo', price: '₹119', img: 'assets/img/veg-burger-1.jpg', type: 'veg' },
    { category: 'burgers', title: 'Spicy Hero Veg Burger', desc: 'Veg patty with lettuce, mayo, and spicy sauce', price: '₹129', img: 'assets/img/veg-burger-2.jpg', type: 'veg' },
    { category: 'burgers', title: 'Nutty Professor Veg Burger', desc: 'Veg patty with lettuce, onion, tomato and mayo', price: '₹139', img: 'assets/img/veg-burger-3.jpg', type: 'veg' },
    { category: 'burgers', title: 'Fiery Fajita Veg Burger', desc: 'Delicious Veg patty and crunchy lettuce and onion and tomato with mayo', price: '₹139', img: 'assets/img/veg-burger-3.jpg', type: 'veg' },
    { category: 'burgers', title: 'Nacho Vixen Burger', desc: ' Delicious veg patty, crunchy lettuce and crispy nachos and flavored  mayo', price: '₹149', img: 'assets/img/veg-burger-4.jpg', type: 'veg' },
   
    // Non-Veg Burgers
    { category: 'burgers', title: 'Nonveg Victory Burger', desc: 'Delicious veg patty with lettuce and creamy mayo', price: '₹129', img: 'assets/img/veg-burger-1.jpg', type: 'nonveg' },
    { category: 'burgers', title: 'Spicy Hero Chicken Burger', desc: 'Veg patty with lettuce, mayo, and spicy sauce', price: '₹139', img: 'assets/img/veg-burger-2.jpg', type: 'nonveg' },
    { category: 'burgers', title: 'Nutty Professor Chicken Burger', desc: 'Veg patty with lettuce, onion, tomato and mayo', price: '₹149', img: 'assets/img/veg-burger-3.jpg', type: 'nonveg' },
    { category: 'burgers', title: 'Fiery Fajita Chicken Burger', desc: 'Delicious Veg patty and crunchy lettuce and onion and tomato with mayo', price: '₹159', img: 'assets/img/veg-burger-3.jpg', type: 'nonveg' },
    { category: 'burgers', title: 'Nacho Vixen Chicken Burger', desc: ' Delicious veg patty, crunchy lettuce and crispy nachos and flavored  mayo', price: '₹179', img: 'assets/img/veg-burger-4.jpg', type: 'nonveg' },
   
    // Veg Sides
    { category: 'sides', title: 'Veg Nuggets', desc: 'Crispy Veg Nuggets', price: '₹89', img: 'assets/img/wedges.jpg', type: 'veg' },
    { category: 'sides', title: 'Veg Nachos', desc: 'Crispy Veg Nachos', price: '₹179', img: 'assets/img/wedges.jpg', type: 'veg' },
    { category: 'sides', title: 'Potato Wedges', desc: 'Crispy potato wedges', price: '₹99', img: 'assets/img/wedges.jpg', type: 'veg' },
    { category: 'sides', title: 'Freid Veg Momos', desc: 'Golden fried veg momos', price: '₹80', img: 'assets/img/veg-nuggets.jpg', type: 'veg' },
    { category: 'sides', title: 'Salted French Fries', desc: 'Crispy Salted French Fries', price: '₹85', img: 'assets/img/wedges.jpg', type: 'veg' },
    { category: 'sides', title: 'Classic Veg Cheese Nachos', desc: 'Crispy Cheese Nachos', price: '₹199', img: 'assets/img/wedges.jpg', type: 'veg' },
    { category: 'sides', title: 'Chilli Garlic Potato Pops', desc: 'Crispy potato pops', price: '₹89', img: 'assets/img/wedges.jpg', type: 'veg' },
    { category: 'sides', title: 'Peri Peri French Fries', desc: 'French fries with peri peri spice', price: '₹99', img: 'assets/img/peri-fries.jpg', type: 'veg' },

    // Non-Veg Sides
    { category: 'sides', title: 'Chicken Nuggets', desc: 'Juicy chicken nuggets', price: '₹119', img: 'assets/img/chicken-nuggets.jpg', type: 'nonveg' },
    { category: 'sides', title: 'Chicken Wings', desc: 'Spicy chicken wings', price: '₹99', img: 'assets/img/chicken-wings.jpg', type: 'nonveg' },
    { category: 'sides', title: 'Fried Chicken Momos', desc: 'Spicy chicken wings', price: '₹99', img: 'assets/img/chicken-wings.jpg', type: 'nonveg' },
    { category: 'sides', title: 'Shedard Chicken Nachos', desc: 'Spicy chicken wings', price: '₹219', img: 'assets/img/chicken-wings.jpg', type: 'nonveg' },
    { category: 'sides', title: 'Classic Shedard Chicken Cheese Nachos', desc: 'Spicy chicken wings', price: '₹249', img: 'assets/img/chicken-wings.jpg', type: 'nonveg' },
    
    

    // Beverages
    { category: 'beverages', title: 'Cold Coffee', desc: 'Classic chilled coffee', price: '₹129', img: 'assets/img/cold-coffee.jpg', type: 'veg' },
    { category: 'beverages', title: 'Oreo Coffee Shake', desc: 'Coffee blended with Oreo cookies', price: '₹139/159', img: 'assets/img/oreo-shake.jpg', type: 'veg' },
    { category: 'beverages', title: 'King of Mango Shake', desc: 'Mango flavored milkshake', price: '₹139/159', img: 'assets/img/mango-shake.jpg', type: 'veg' },

    // Ice Creams & Desserts
    { category: 'icecreams', title: 'Mango Icecream', desc: 'Mango Icecream', price: '₹80', img: 'assets/img/lava-cake.jpg', type: 'veg' },
    { category: 'icecreams', title: 'Sitaphal Icecream', desc: 'Sweet Sitphal icecream', price: '₹80', img: 'assets/img/choco-icecream.jpg', type: 'veg' },
    { category: 'icecreams', title: 'Tender Cocounut Icecream', desc: 'cocount icecream', price: '₹80', img: 'assets/img/choco-icecream.jpg', type: 'veg' },
    { category: 'icecreams', title: 'Anjeer', desc: 'Anjeer icecream', price: '₹80', img: 'assets/img/lava-cake.jpg', type: 'veg' },
    { category: 'icecreams', title: 'Litchi Ice Cream', desc: 'Litchi ice cream', price: '₹80', img: 'assets/img/choco-icecream.jpg', type: 'veg' },
    { category: 'icecreams', title: 'Chikoo Ice Cream', desc: 'Chikoo ice cream', price: '₹80', img: 'assets/img/vanilla-icecream.jpg', type: 'veg' },
    { category: 'icecreams', title: 'Strawberry Ice Cream', desc: 'Strawberry flavor ice cream', price: '₹80', img: 'assets/img/strawberry-icecream.jpg', type: 'veg' },
    { category: 'icecreams', title: 'Roasted Almond Ice Cream', desc: 'Almond flavour ice cream', price: '₹80', img: 'assets/img/pista-icecream.jpg', type: 'veg' },
    { category: 'icecreams', title: 'Malia Ice Cream', desc: 'Malia flavor ice cream', price: '₹80', img: 'assets/img/pista-icecream.jpg', type: 'veg' },
    { category: 'icecreams', title: 'Chocolate Ice Cream', desc: 'Rich chocolate flavor ice cream', price: '₹80', img: 'assets/img/choco-icecream.jpg', type: 'veg' },
    { category: 'icecreams', title: 'Kesarapista Ice Cream', desc: 'lesarapista flavor ice cream', price: '₹80', img: 'assets/img/blueberry-icecream.jpg', type: 'veg' },
    
    


    // More Combos
    { category: 'combos', title: 'Margarita Combo', desc: 'Margarita Pizza + Salted French Fries + Green Apple Mojito', price: '₹319', img: '', type: 'veg' },
    { category: 'combos', title: 'Pineapple Passion Combo', desc: 'Pineapple Passion Blast Slice Pizza + Potato Wedges + Virgin Mojito', price: '₹327', img: '', type: 'veg' },
    { category: 'combos', title: 'Paneer Delight Explosion Combo', desc: 'Paneer Delight Explosion Pizza + Veggie Victory Burger + Strawberry Season Mojito', price: '₹373', img: '', type: 'veg' },
    { category: 'combos', title: 'Chicken Tikka Masala Combo', desc: 'Chicken Tikka Masala Madness Pizza + Peri Peri French Fries + Thums Up', price: '₹298', img: '', type: 'nonveg' },
    { category: 'combos', title: 'BBQ Chicken Blast Combo', desc: 'BBQ Chicken Blast Pizza + Potato Veg Nuggets + Virgin Mojito', price: '₹347', img: '', type: 'nonveg' },
    { category: 'combos', title: 'Peri Peri Chicken Combo', desc: 'Peri Peri Chicken Explosion + Chicken Wings (3 Pieces) + Watermelon Mojito', price: '₹373', img: '', type: 'nonveg' },
    { category: 'combos', title: 'Sweet Chili Chicken Combo', desc: 'Sweet Chili Chicken Sensation Slice Pizza + Chicken Nuggets + Green Apple Mojito', price: '₹434', img: '', type: 'nonveg' },
    { category: 'combos', title: 'Mixed Slice Combo', desc: 'Farm Land Slice + Peri Peri Chicken Slice Pizza', price: '₹294', img: '', type: 'nonveg' },
    { category: 'combos', title: 'Fiery Fusion Combo', desc: 'Fiery Fusion Surprise Slice Pizza + Salted French Fries + Thums Up', price: '₹230', img: '', type: 'veg' },
    { category: 'combos', title: 'Golden Crunch & Spicy Hero Combo', desc: 'Golden Chicken Crunch Slice Pizza + Spicy Hero Veg Burger', price: '₹278', img: '', type: 'nonveg' },
    { category: 'combos', title: 'BBQ Veggie Slice & Dessert Combo', desc: 'BBQ Veggie Bonanza Slice Pizza + Choco Lava Cake + Blue Iced Mojito', price: '₹279', img: '', type: 'veg' },
    { category: 'combos', title: 'Capsicum Corn Combo', desc: 'Capsicum Corn Sensation Slice Pizza + Garlic Bread + Strawberry Mojito', price: '₹290', img: '', type: 'veg' },
    { category: 'combos', title: 'Sweet Chili Chicken Combo 2', desc: 'Sweet Chili Chicken Sensation Slice Pizza + Chicken Nuggets + Thums Up', price: '₹289', img: '', type: 'nonveg' },
    { category: 'combos', title: 'Cheese Corn & Peri Fries Combo', desc: 'Cheese Gold Corn Slice + Peri Peri Fries + Thums Up', price: '₹244', img: '', type: 'veg' },
    { category: 'combos', title: 'Chicken Pepperoni Combo', desc: 'Chicken Pepperoni Slice Perfection + Chilli Garlic Potato Pops + Thums Up', price: '₹313', img: '', type: 'nonveg' },
    { category: 'combos', title: 'Fiery Fajita Veg Combo', desc: 'Fiery Fajita Veg Burger + Watermelon Mocktail', price: '₹208', img: '', type: 'veg' },
    { category: 'combos', title: 'Nutty Professor Chicken Combo', desc: 'Nutty Professor Chicken Burger + Salted French Fries + Thums Up', price: '₹234', img: '', type: 'nonveg' },
    { category: 'combos', title: 'Spicy Hero Chicken Combo', desc: 'Spicy Hero Chicken Burger + Virgin Mojito', price: '₹189', img: '', type: 'nonveg' },
    { category: 'combos', title: 'Nacho Vixen Combo', desc: 'Nacho Vixen Burger + Chicken Nuggets + Thums Up', price: '₹299', img: '', type: 'nonveg' },
    { category: 'combos', title: 'Fiery Fajita Chicken Combo', desc: 'Fiery Fajita Chicken Burger + Green Apple Mojito', price: '₹224', img: '', type: 'nonveg' },
    { category: 'combos', title: 'Fries & Wings Combo', desc: 'Salted French Fries + Chicken Wings + Virgin Mojito', price: '₹249', img: '', type: 'nonveg' },
    { category: 'combos', title: 'Nuggets & Momos Combo', desc: 'Chicken Nuggets + Fried Veg Momos + Thums Up', price: '₹199', img: '', type: 'nonveg' },
    { category: 'combos', title: 'Peri Fries & Nuggets Combo', desc: 'Peri Peri Fries + Veg Nuggets + Blue Iced Mocktail', price: '₹257', img: '', type: 'veg' },
    { category: 'combos', title: 'Wedges & Cake Combo', desc: 'Potato Wedges + Choco Lava Cake + Green Apple Mojito', price: '₹239', img: '', type: 'veg' },
    { category: 'combos', title: 'Peri Fries & Nachos Combo', desc: 'Peri Peri Fries + Veg Nachos + Thums Up', price: '₹278', img: '', type: 'veg' },
    { category: 'combos', title: 'Shedard Chicken Nachos Combo', desc: 'Shedard Chicken Cheese Nachos + Fried Chicken Momos + Green Apple Mojito', price: '₹409', img: '', type: 'nonveg' },
    { category: 'combos', title: 'Classic Veg Nachos Combo', desc: 'Classic Veg Cheese Nachos + Fried Veg Momos + Virgin Mojito', price: '₹339', img: '', type: 'veg' },
    { category: 'combos', title: 'Garlic Bread & Chicken Momos Combo', desc: 'Cheese Garlic Bread + Fried Chicken Momos + Thums Up', price: '₹219', img: '', type: 'nonveg' },
    { category: 'combos', title: 'Garlic Bread & Chicken Nachos Combo', desc: 'Plain Garlic Bread + Shedard Chicken Nachos + Watermelon Mojito', price: '₹264', img: '', type: 'nonveg' },
    { category: 'combos', title: 'Cold Coffee & Shake Combo', desc: 'Cold Coffee + Belgium Chocolate Shake', price: '₹269', img: '', type: 'veg' },
    { category: 'combos', title: 'Mango & Oreo Combo', desc: 'King of Mango Milkshake + Oreo Choco Chips Shake', price: '₹258', img: '', type: 'veg' },
    { category: 'combos', title: 'Strawberry & Chocolate Combo', desc: 'Strawberry Milkshake + Chocolate Cold Coffee', price: '₹258', img: '', type: 'veg' },
    { category: 'combos', title: 'Oreo Coffee Combo', desc: 'Oreo Coffee Shake + Cold Coffee', price: '₹268', img: '', type: 'veg' }
];


/* === GLOBAL STATE === */
let cart = JSON.parse(localStorage.getItem('cart')) || [];
let activeCategory = 'all';
let activeType = 'all';

function saveCart() {
  localStorage.setItem('cart', JSON.stringify(cart));
}

function updateCartCountBadge() {
  const count = cart.reduce((sum, item) => sum + item.qty, 0);
  document.getElementById('cartCountBadge').innerText = `(${count})`;
}

function toggleMenuPopup() {
  const popup = document.getElementById('menuPopup');
  popup.classList.toggle('hidden');
}
// Close popup if clicked outside
document.addEventListener('click', function (e) {
  const popup = document.getElementById('menuPopup');
  const toggleBtn = document.getElementById('menuToggleBtn');

  // If popup is visible and click is outside both popup and button
  if (!popup.classList.contains('hidden') &&
      !popup.contains(e.target) &&
      !toggleBtn.contains(e.target)) {
    popup.classList.add('hidden');
  }
});

/* === CART FUNCTIONS === */
function addToCart(item) {
  const existing = cart.find(i => i.title === item.title);
  if (existing) existing.qty++;
  else {
    item.qty = 1;
    cart.push(item);
  }
  renderCart();
  saveCart();
  showCartPopup(item.title);
}

function changeQty(index, delta) {
  cart[index].qty += delta;
  if (cart[index].qty <= 0) {
    cart.splice(index, 1);
  }
  renderCart();
  saveCart();
}

function removeItem(index) {
  cart.splice(index, 1);
  renderCart();
  saveCart();
}

function renderCart() {
  const list = document.getElementById('cartItems');
  const totalEl = document.getElementById('cartTotal');
  list.innerHTML = '';
  let total = 0;

  cart.forEach((item, i) => {
    const price = parseInt(item.price.match(/\d+/)[0]);
    total += price * item.qty;
    list.innerHTML += `
      <li>
        <span class="title">${item.title}</span>
        <div class="cart-controls">
          <button onclick="changeQty(${i}, -1)">−</button>
          <span>${item.qty}</span>
          <button onclick="changeQty(${i}, 1)">+</button>
          <button onclick="removeItem(${i})">×</button>
        </div>
      </li>`;
  });

  totalEl.innerText = `₹${total}`;
  updateCartCountBadge();
}

/* === MENU DISPLAY & FILTERING === */
function renderMenuItems() {
  const container = document.getElementById('menu');
  container.innerHTML = '';
  const searchValue = document.getElementById('searchBox')?.value.toLowerCase() || '';

  const filteredItems = menuData.filter(item =>
    (activeCategory === 'all' || item.category === activeCategory) &&
    (activeType === 'all' || item.type === activeType) &&
    (item.title.toLowerCase().includes(searchValue) || item.desc.toLowerCase().includes(searchValue))
  );

  filteredItems.forEach(item => {
    const card = document.createElement('div');
    card.className = `menu-card ${item.type}`;
    const iconClass = item.type === 'veg' ? 'veg-icon' : 'nonveg-icon';

    card.innerHTML = `
      <div class="menu-info">
        <div><span class="${iconClass}"></span><strong>${item.title}</strong></div>
        <div class="price-line"><span class="discounted-price">${item.price}</span></div>
        <p>${item.desc}</p>
      </div>
      <div class="menu-img-block">
        <img src="${item.img}" alt="${item.title}">
        <button class="order-button"
          data-title="${item.title}"
          data-desc="${item.desc}"
          data-price="${item.price}"
          data-img="${item.img}"
          onclick="addToCartFromButton(this)"
        >ADD</button>
      </div>`;
    container.appendChild(card);
  });
}

function addToCartFromButton(button) {
  const card = button.closest('.menu-img-block');
  const item = {
    title: button.dataset.title,
    desc: button.dataset.desc,
    price: button.dataset.price,
    img: button.dataset.img
  };
  addToCart(item);

  button.remove();
  const qtyControl = document.createElement('div');
  qtyControl.className = 'quantity-control';
  qtyControl.innerHTML = `
    <button class="qty-btn" onclick="changeCardQty(this, '${item.title}', -1)">−</button>
    <span class="qty-count">1</span>
    <button class="qty-btn" onclick="changeCardQty(this, '${item.title}', 1)">+</button>`;
  card.appendChild(qtyControl);
}

function changeCardQty(btn, title, delta) {
  const item = cart.find(i => i.title === title);
  if (!item) return;

  item.qty += delta;
  const card = btn.closest('.menu-img-block');

  if (item.qty <= 0) {
    cart = cart.filter(i => i.title !== title);
    card.querySelector('.quantity-control')?.remove();

    const addBtn = document.createElement('button');
    addBtn.className = 'order-button';
    addBtn.textContent = 'ADD';
    addBtn.dataset.title = title;
    addBtn.dataset.desc = item.desc;
    addBtn.dataset.price = item.price;
    addBtn.dataset.img = item.img;
    addBtn.onclick = () => addToCartFromButton(addBtn);
    card.appendChild(addBtn);
  } else {
    const countSpan = btn.parentElement.querySelector('.qty-count');
    if (countSpan) countSpan.textContent = item.qty;
  }

  renderCart();
  saveCart();
}

/* === MODALS & ACTIONS === */
function showCartPopup(itemTitle) {
  const popup = document.getElementById('cartPopup');
  const msg = document.getElementById('cartMessage');
  msg.textContent = `${itemTitle} added`;
  popup.classList.remove('hidden');
  setTimeout(() => popup.classList.add('hidden'), 3000);
}

function openCartModal() {
  document.getElementById('cartModal').style.display = 'flex';
}

function closeCartModal() {
  document.getElementById('cartModal').style.display = 'none';
}

function openOrderForm() {
  document.getElementById('cartModal').style.display = 'none';
  document.getElementById('orderFormModal').style.display = 'flex';
}

function closeOrderForm() {
  document.getElementById('orderFormModal').style.display = 'none';
}

function submitOrder(e) {
  e.preventDefault();
  const name = document.getElementById('custName').value;
  const address = document.getElementById('custAddress').value;
  const phone = document.getElementById('custPhone').value;

  let message = `*Order from Pizza Factory Slise*%0A`;
  cart.forEach(item => {
    const price = item.price.match(/\d+/)[0];
    message += `🍕 ${item.title} - ₹${price} x ${item.qty}%0A`;
  });

  const total = document.getElementById('cartTotal').innerText;
  message += `%0A*Total*: ${total}%0A`;
  message += `%0A*Customer Details*:%0A👤 ${name}%0A🏠 ${address}%0A📞 ${phone}`;

  const whatsappUrl = `https://wa.me/919182714776?text=${encodeURIComponent(message)}`;
  window.open(whatsappUrl, '_blank');

  cart = [];
  renderCart();
  saveCart();
  closeOrderForm();
}

/* === UI FILTERS === */
function openTab(evt, category) {
  document.querySelectorAll('.tablink').forEach(btn => btn.classList.remove('active'));
  evt.target.classList.add('active');
  activeCategory = category;
  renderMenuItems();
}

function filterByType(evt, type) {
  document.querySelectorAll('.type-filter').forEach(btn => btn.classList.remove('active'));
  evt.target.classList.add('active');
  activeType = type;
  renderMenuItems();
}

function searchMenu() {
  renderMenuItems();
}

function handleModalOutsideClick(event, modalId) {
  const modal = document.getElementById(modalId);
  if (event.target === modal) {
    modal.style.display = 'none';
  }
}

window.onload = () => {
  renderMenuItems();
  renderCart();
};
</script>

</body>
</html>